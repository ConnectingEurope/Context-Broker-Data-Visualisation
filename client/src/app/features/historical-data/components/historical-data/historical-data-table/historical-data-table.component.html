<div class="ml-4 mt-4">
    <p-table [value]="data" [paginator]="true" [rows]="hLimit" [loading]="false" styleClass="ui-table-historical-data"
        currentPageReportTemplate="{{ totalRecords ? ('Showing ' + (first + 1) + ' to ' + last + ' of ' + totalRecords): '' }}"
        [totalRecords]="totalRecords" [lazy]="true" [showCurrentPageReport]="true" (onLazyLoad)="onLazyLoad($event)">

        <ng-template pTemplate="header">
            <tr>
                <th>
                    Timestamp
                </th>
                <th *ngFor="let attr of entityMetadata.attrs">
                    {{attr}}
                </th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-row>
            <tr>
                <td>
                    {{row[time] | date:'medium'}}
                </td>
                <td *ngFor="let attr of entityMetadata.attrs">
                    {{row[attr]?.attrValue}}
                </td>
            </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
            <tr>
                <td [attr.colspan]="entityMetadata.attrs.length + 1" style="text-align:left">No data found.</td>
            </tr>
        </ng-template>

    </p-table>
</div>
