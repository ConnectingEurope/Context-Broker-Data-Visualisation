<!-- Layer panel -->
<!-- <p-overlayPanel #layerPanel>
    <p-tree [value]="layers" selectionMode="checkbox" [(selection)]="selectedLayers" <!-- (onNodeSelect)="onNodeSelect($event)"
        (onNodeUnselect)="onNodeUnselect($event)">
        <ng-template let-node pTemplate="default">
            <label>{{ node.label }}</label>
            <div *ngIf="node.data.type === 'entity'">
                <button (click)="addFilter(node.data)">Add Filter</button>
            </div>
            <div *ngIf="node.data.type === 'filter'">
                <i class="pi pi-times"></i>
            </div>
        </ng-template>
    </p-tree>
</p-overlayPanel> -->
<!--
{ "data": { "key": "environment" }, "label": "Environment", "children": [ { "data": { "key": "AirQualityObserved",
"size": 3, "type": "entity" }, "label": "Air Quality Observed", "children": [ { "data": { "key": "filter1", "type":
"filter" }, "label": "< 5", "children" : [] }, { "data" : { "key" : "filter2" , "type" : "filter" }, "label" : ">= 1" ,
    "children" : [] } ] } ] }  -->

<p-overlayPanel #layerPanel>
    <h3>Layers</h3>
    <div class="ui-g" style="width:250px;margin-bottom:10px">
        <div class="ui-g-12" *ngFor="let category of layers">
            <p-checkbox name="group2" [value]="category.label" [label]="category.label" [(ngModel)]="selectedCategories"
                inputId="technology"></p-checkbox>
            <div class="ui-g-12" style="width:250px;margin-left:10px" *ngFor="let entity of category.children">
                <p-checkbox name="group2" [value]="entity.label" [label]="entity.label" [(ngModel)]="selectedCategories"
                    inputId="technology"></p-checkbox>
                <button style="margin: 10px;" (click)="createFilter(entity.label)">+</button>
                <div *ngIf="filters[entity.label]?.active">
                    <p-dropdown [style]="{'width':'10px'}" [panelStyle]="{'width':'10px'}" [options]="optionsForNumber"
                        [(ngModel)]="selectedCar1" editable="true"></p-dropdown>
                </div>
            </div>
        </div>
    </div>

    {{selectedCategories}}
</p-overlayPanel>

<!-- Map -->
<div id="map" class="w-100 h-100">
    <div class="leaflet-top leaflet-right">
        <p-button class="mt-3 mr-3" label="Layers" icon="pi pi-list" iconPos="left" (onClick)="layerPanel.toggle($event)"></p-button>
    </div>
</div>
